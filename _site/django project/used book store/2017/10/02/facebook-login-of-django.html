<!DOCTYPE html>
<html lang="en">
<head>
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-100042262-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-100042262-1');
	</script>

	<title>뿡상의 개발공부로그</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="description" content="" />
	<meta name="keywords" content="" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- 파비콘 -->
	<link rel="shortcut icon" href="/images/favicon.ico">

	<!-- CSS -->
	<link rel="stylesheet" href="/css/common.css" />
	<link rel="stylesheet" href="/css/nav.css" />
	<link rel="stylesheet" href="/css/main.css" />
	<link rel="stylesheet" href="/css/post.css" />
	<link rel="stylesheet" href="/css/list.css" />
	<link rel="stylesheet" href="https://cdn.iconmonstr.com/1.2.0/css/iconmonstr-iconic-font.min.css">

	<!--external css-->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link href='https://cdn.iconmonstr.com/1.2.0/css/iconmonstr-iconic-font.min.css' rel='stylesheet'>

	<!-- font -->
	<link href='https://fonts.googleapis.com/css?family=Gloria Hallelujah' rel='stylesheet'>

	<link href='https://cdn.rawgit.com/openhiun/hangul/14c0f6faa2941116bb53001d6a7dcd5e82300c3f/nanumbarungothic.css' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Architects Daughter' rel='stylesheet'>
	<link href='https://fonts.googleapis.com/css?family=Bungee Hairline' rel='stylesheet'>
	<link href='https://fonts.googleapis.com/css?family=Bubbler One' rel='stylesheet'>
	<link href="https://fonts.googleapis.com/css?family=Patrick Hand SC" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>

<body>
  <div id="container" class="container">
    <ul class="top_menu">
  <li class=" menu_list sidebar-toggle-box">
    <button class="menu_btn" id="menuBtn" title="메뉴토글버튼">
      <i class="im im-menu"></i>
    </button>
  </li>

  <li class="menu_list logo">
    <a href="/">
      bbungsang
      <i>devlog</i>
    </a>
  </li>
  <a href="https://www.facebook.com/profile.php?id=100003805377149"><li class="menu_ele">Facebook</li></a>
  <a href="https://github.com/bbungsang"><li class="menu_ele">GitHub</li></a>
</ul>

<!-- 사이드 메뉴바 -->
<div id="mySidenav" class="sidenav">
  <div class="intro-me">
    <div class="my-photo">
      <img src="/images/meme.png">
    </div>
    <div class="my-content">
      Please contact me if you have any questions
      <p>- Elena.Kim -</p>
      <button class="resume">미정</button>
    </div>
  </div>
  <ul class="menu-ele">
    <li>
      <a href="/files/python.html">
        <span class="bar-left"></span>
        파이썬
        <span class="bar-right"></span>
      </a>
    </li>
    <li>
      <a href="/files/django.html">
        <span class="bar-left"></span>
        장고
        <span class="bar-right"></span>
      </a>
    </li>
    <li>
      <a href="/files/algorithm.html">
        <span class="bar-left"></span>
        알고리즘
        <span class="bar-right"></span>
      </a>
    </li>
    <li>
      <a href="/files/server.html">
        <span class="bar-left"></span>
        서버
        <span class="bar-right"></span>
      </a>
    </li>
    <li>
      <a href="/files/study.html">
        <span class="bar-left"></span>
        스터디
        <span class="bar-right"></span>
      </a>
    </li>
  </ul>
</div>

<script>
  function sideNavBtnClickHandler(e) {
    document.getElementById("mySidenav").style.left = "0px";
    e.stopPropagation();
  }

  document.getElementById("menuBtn").addEventListener(
    "click",
    sideNavBtnClickHandler
  );

  window.addEventListener("click", function () {
    var sidenav = document.getElementsByClassName("sidenav");

    for(var i=0; i<sidenav.length; i++){
      var closeSidenav = sidenav[i];
      closeSidenav.style.left = "-240px";
    }
  });
</script>


    <section class="markdown">
  <article class="md-head">
    <div class="title">
      페이스북 로그인 플로우 직접 빌드 in Django
    </div>
    <div class="tag-wrap">
      
      
        <a href="/tags/#Django">
          <img src="/images/tag_img.png">
          Django
        </a>
      
        <a href="/tags/#Facebook Login">
          <img src="/images/tag_img.png">
          Facebook Login
        </a>
      
    </div>
  </article>
  <article class="markdown-body">
    <section class="post-content">
      <blockquote>
  <p>facebook for developers의 <a href="https://developers.facebook.com/docs/facebook-login/manually-build-a-login-flow">Facebook 로그인 문서</a>를 참고하여 작성하였습니다. <br />
틀린 내용이 있다면 언제든 문의주세요:D</p>
</blockquote>

<h3 id="로그인-대화-상자-호출-및-리다이렉션-url-설정하기">로그인 대화 상자 호출 및 리다이렉션 URL 설정하기</h3>

<div class="language-html highlighter-rouge"><pre class="highlight"><code>
<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"https://www.facebook.com/v2.9/dialog/oauth?client_id={{ facebook_app_id }}&amp;redirect_uri={{ site_url }}{% url 'member:facebook_login' %}&amp;scope=email"</span><span class="nt">&gt;</span>페이스북 로그인<span class="nt">&lt;/a&gt;</span>

</code></pre>
</div>

<ul>
  <li>페이스북 로그인을 클릭하면 페이스북 로그인 대화 상자가 호출되고, 인증 성공시 페이스북 로그인 뷰를 실행하게 된다.</li>
  <li>엔드포인트 필수 매개변수로는 <code class="highlighter-rouge">client_id</code>, <code class="highlighter-rouge">redirect_uri</code>가 있다.</li>
  <li><strong>client_id</strong>는 앱 등록후 발급받은 앱 ID이며, <strong>redirect_uri</strong>는 인증 성공후 장고 어플리케이션에서 회원가입 혹은 로그인을 하도록 리다이렉트 할 URL이다.</li>
  <li>예를 들어 내 사이트의 경우, <strong>http://localhost:8000/member/login/facebook</strong>에서 페이스북 로그인 뷰를 실행하므로 이 주소가 <strong>redirect_uri</strong>가 된다.</li>
  <li><code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="err">facebook_app_id</span><span class="w"> </span><span class="p">}</span><span class="err">}</span></code>와 <code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="err">site_url</span><span class="w"> </span><span class="p">}</span><span class="err">}</span></code>은 <code class="highlighter-rouge">context_processor</code>에 별도로 지정해 놓은 장고 템플릿 태그이다.</li>
</ul>

<h4 id="내-프로젝트-디렉토리-구조페이스북-로그인-위주">내 프로젝트 디렉토리 구조(페이스북 로그인 위주)</h4>

<p><img src="http://localhost:4000/assets/facebook_login_project_structure.png" alt="" class="center-image" /></p>

<h3 id="id-확인">ID 확인</h3>
<p>액세스 토큰을 생성하기 전에 사용자가 응답 데이터가 있는 사용자인지 확인해야 한다. 선택적 매개변수인 <code class="highlighter-rouge">response_type</code>에 따라 여러 다른 방식으로 ID 확인을 수행할 수 있다.</p>

<ul>
  <li><strong>code</strong> : 각 로그인 요청에 고유한 암호화된 문자열로, <code class="highlighter-rouge">서버에서 토큰을 처리</code>할 때 유용하다. 코드가 수신되면 엔드포인트를 사용하여 액세스 토큰과 교환을 해야한다. 이 호출에서 <code class="highlighter-rouge">앱 시크릿 코드</code>가 사용되므로 서버 간에 이루어져야 한다. (시크릿 코드는 클라이언트 코드에 있지 않아야 한다.)</li>
</ul>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">code</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'code'</span><span class="p">)</span>
</code></pre>
</div>

<h3 id="액세스-토큰과-코드의-교환">액세스 토큰과 코드의 교환</h3>
<p>액세스 토큰을 얻으려면 다음과 같이 엔드포인트에 HTTP GET 요청을 한다.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>GET https://graph.facebook.com/v2.10/oauth/access_token?
   client_id={app-id}
   &amp;redirect_uri={redirect-uri}
   &amp;client_secret={app-secret}
   &amp;code={code-parameter}
</code></pre>
</div>

<p><br />
<strong>[파이썬 in Django]</strong> <br />
utils/apis/get_information.py <code class="highlighter-rouge">get_facebook_access_token()</code></p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">get_facebook_access_token</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">code</span><span class="p">):</span>
    <span class="n">exchange_access_token_url</span> <span class="o">=</span> <span class="s">'https://graph.facebook.com/v2.9/oauth/access_token'</span>
    <span class="n">redirect_uri</span> <span class="o">=</span> <span class="s">'{}{}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">settings</span><span class="o">.</span><span class="n">SITE_URL</span><span class="p">,</span>
        <span class="n">request</span><span class="o">.</span><span class="n">path</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">exchange_access_token_url_params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">'client_id'</span><span class="p">:</span> <span class="n">settings</span><span class="o">.</span><span class="n">FACEBOOK_APP_ID</span><span class="p">,</span>
        <span class="s">'redirect_uri'</span><span class="p">:</span> <span class="n">redirect_uri</span><span class="p">,</span>
        <span class="s">'client_secret'</span><span class="p">:</span> <span class="n">settings</span><span class="o">.</span><span class="n">FACEBOOK_SECRET_CODE</span><span class="p">,</span>
        <span class="s">'code'</span><span class="p">:</span> <span class="n">code</span><span class="p">,</span>
    <span class="p">}</span>
    
    <span class="c"># requests를 사용하여 GET 요청</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="n">exchange_access_token_url</span><span class="p">,</span>
        <span class="n">params</span><span class="o">=</span><span class="n">exchange_access_token_url_params</span><span class="p">,</span>
    <span class="p">)</span>
    
    <span class="c"># 응답받은 데이터 json 형태로 변형</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
    
    <span class="c"># 응답받은 결과값에 'access_token'이라는 key가 존재하면,</span>
    <span class="k">if</span> <span class="s">'access_token'</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
        <span class="c"># access_token key의 value를 반환</span>
        <span class="k">return</span> <span class="n">result</span><span class="p">[</span><span class="s">'access_token'</span><span class="p">]</span>
    <span class="k">elif</span> <span class="s">'error'</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
        <span class="k">raise</span> <span class="nb">Exception</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="nb">Exception</span><span class="p">(</span><span class="s">'Unknown Error'</span><span class="p">)</span>
</code></pre>
</div>

<h3 id="액세스-토큰-검사하기">액세스 토큰 검사하기</h3>
<p>graph API 엔드포인트를 사용하여 액세스토큰의 검사를 수행할 수 있다.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>GET graph.facebook.com/debug_token?
     input_token={token-to-inspect}
     &amp;access_token={app-token-or-admin-token}
</code></pre>
</div>

<ul>
  <li><strong>input_token</strong> : 검사가 필요한 토큰</li>
  <li><strong>access_token</strong> : 개발자의 액세스 토큰</li>
</ul>

<p><strong>[파이썬 in Django]</strong> <br />
utils/apis/get_information <code class="highlighter-rouge">facebook_debug_token()</code></p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">debug_token</span><span class="p">(</span><span class="n">input_token</span><span class="p">):</span>
    <span class="n">access_token</span> <span class="o">=</span> <span class="s">'{}|{}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">settings</span><span class="o">.</span><span class="n">FACEBOOK_APP_ID</span><span class="p">,</span>
        <span class="n">settings</span><span class="o">.</span><span class="n">FACEBOOK_SECRET_CODE</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">debug_token_url</span> <span class="o">=</span> <span class="s">'https://graph.facebook.com/debug_token'</span>
    <span class="n">debug_token_url_params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">'input_token'</span><span class="p">:</span> <span class="n">input_token</span><span class="p">,</span>
        <span class="s">'access_token'</span><span class="p">:</span> <span class="n">access_token</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">debug_token_url</span><span class="p">,</span> <span class="n">debug_token_url_params</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

    <span class="k">if</span> <span class="s">'error'</span> <span class="ow">in</span> <span class="n">result</span><span class="p">[</span><span class="s">'data'</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="n">DebugTokenException</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        
    <span class="k">return</span> <span class="n">result</span>
</code></pre>
</div>

<p>성공적인 응답을 받으면 다음과 같은 형태의 데이터를 가져올 것이다.</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"app_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">138483919580948</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"application"</span><span class="p">:</span><span class="w"> </span><span class="s2">"봉자달봉중고서점"</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1352419328</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"is_valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"issued_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1347235328</span><span class="p">,</span><span class="w"> 
        </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"sso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iphone-safari"</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="nt">"scopes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"email"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"publish_actions"</span><span class="w">
        </span><span class="p">],</span><span class="w"> 
        </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1207059</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h3 id="사용자-정보-가져오기">사용자 정보 가져오기</h3>
<p>이렇게 얻은 <code class="highlighter-rouge">access_token</code>과 <code class="highlighter-rouge">user_id</code> 필드를 통해 사용자 정보를 가져올 수 있다.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>GET graph.facebook.com/v2.9/{user_id}?
     access_token={access_token}
     &amp;fields={가져오고자하는 필드, 'field1,field2,field3...'의 문자열 형태}
</code></pre>
</div>

<p><br />
<strong>[파이썬 in Django]</strong> <br />
utils/apis/get_information <code class="highlighter-rouge">facebook_get_user_info()</code></p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">facebook_get_user_info</span><span class="p">(</span><span class="n">user_id</span><span class="p">,</span> <span class="n">access_token</span><span class="p">):</span>
    <span class="n">url_user_info</span> <span class="o">=</span> <span class="s">'https://graph.facebook.com/v2.9/{user_id}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">)</span>
    <span class="n">url_user_info_params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">'access_token'</span><span class="p">:</span> <span class="n">access_token</span><span class="p">,</span>
        <span class="s">'fields'</span><span class="p">:</span> <span class="s">','</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
            <span class="s">'id'</span><span class="p">,</span>
            <span class="s">'email'</span><span class="p">,</span>
            <span class="s">'picture'</span><span class="p">,</span>
        <span class="p">])</span>
    <span class="p">}</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url_user_info</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">url_user_info_params</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre>
</div>

<p><br /><br /></p>

<h2 id="페이스북-로그인-실행하기">페이스북 로그인 실행하기</h2>

<h3 id="페이스북-전용-유저-매니저">페이스북 전용 유저 매니저</h3>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MyUserManager</span><span class="p">(</span><span class="n">DefaultUserManager</span><span class="p">):</span>
	<span class="k">def</span> <span class="nf">get_or_create_facebook_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_info</span><span class="p">):</span>
		<span class="n">username</span> <span class="o">=</span> <span class="n">user_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'email'</span><span class="p">,</span> <span class="s">''</span><span class="p">)</span>
		<span class="n">my_photo</span> <span class="o">=</span> <span class="n">user_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'picture'</span><span class="p">,</span> <span class="s">''</span><span class="p">)</span>
		<span class="n">nickname</span> <span class="o">=</span> <span class="s">'{}_{}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">USER_TYPE_FACEBOOK</span><span class="p">,</span>
			<span class="n">user_info</span><span class="p">[</span><span class="s">'id'</span><span class="p">]</span>
		<span class="p">)</span>
	
	<span class="n">user</span><span class="p">,</span> <span class="n">user_created</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_or_create</span><span class="p">(</span>
		<span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span>
		<span class="n">user_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">USER_TYPE_FACEBOOK</span><span class="p">,</span>
		<span class="n">my_photo</span><span class="o">=</span><span class="n">my_photo</span><span class="p">[</span><span class="s">'data'</span><span class="p">][</span><span class="s">'url'</span><span class="p">],</span>
		<span class="n">nickname</span><span class="o">=</span><span class="n">nickname</span><span class="p">,</span>
	<span class="p">)</span>
	
	<span class="k">return</span> <span class="n">user</span>
</code></pre>
</div>

<h3 id="페이스북-로그인-뷰">페이스북 로그인 뷰</h3>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">facebook_login</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">code</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'code'</span><span class="p">)</span>

    <span class="c"># code가 없으면 에러 메세지를 request에 추가하고 이전 페이지로 redirect</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">code</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">error_message_and_redirect_referer</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">access_token</span> <span class="o">=</span> <span class="n">get_facebook_access_token</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">code</span><span class="p">)</span>
        <span class="n">debug_result</span> <span class="o">=</span> <span class="n">facebook_debug_token</span><span class="p">(</span><span class="n">access_token</span><span class="p">)</span>
        <span class="n">user_info</span> <span class="o">=</span> <span class="n">facebook_get_user_info</span><span class="p">(</span><span class="n">user_id</span><span class="o">=</span><span class="n">debug_result</span><span class="p">[</span><span class="s">'data'</span><span class="p">][</span><span class="s">'user_id'</span><span class="p">],</span> <span class="n">access_token</span><span class="o">=</span><span class="n">access_token</span><span class="p">)</span>
        <span class="n">user</span> <span class="o">=</span> <span class="n">MyUser</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get_or_create_facebook_user</span><span class="p">(</span><span class="n">user_info</span><span class="p">)</span>

        <span class="n">django_login</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">user</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s">'book:main'</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">GetAccessTokenException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">code</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">error_message_and_redirect_referer</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">DebugTokenException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">code</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">error_message_and_redirect_referer</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre>
</div>

<p><a href="">» 카카오 로그인</a></p>

<p><br /></p>

    </section>
    <br><br>
    <footer>

      <!-- option to limit page -->
      
      

      

      <ul class="other-posts">
        
        
      </ul>
      <!-- <section class="my-intro">
        <img src="/images/itsme.png">
        <article>
          <p>뿡상</p>
          궁금하시거나 틀린 부분이 있다면 언제든 문의주세요:D
        </article>
      </section> -->
      
  <div id="disqus_thread"></div>
  <script>

  (function() { // DON'T EDIT BELOW THIS LINE
  var d = document, s = d.createElement('script');
  s.src = 'https://https-bbungsang-github-io.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


    </footer>
  </article>
</section>

  </div>
</body>
</html>
